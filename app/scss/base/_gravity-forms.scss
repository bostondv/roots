/*------------------------------------*\
  $GRAVITY FORMS BOOTSTRAP
  Rules for styling Gravity Forms
  with Bootstrap.
\*------------------------------------*/

/* Break-point for complex fields */

$fh_gf_responsive_break_at: $screen-sm-min !default;

/* General fixes */

.gform_wrapper:not(.gform_columns) ul {
  padding-left: 0;
  list-style: none;
}

.gform_wrapper li {
  margin-bottom: 15px;
}

.gform_wrapper form {
  margin-bottom: 0;
}

.gform_columns ul {
  list-style: none;
  margin-bottom: 0;
  ul {
    padding-left: 0;
    list-style: none;
  }
}

.gform_footer {
  margin-bottom: 15px;
}

/* Field container clear */

.gfield {
  clear: both;
}

/* Form description */

.gform_heading .gform_description {
  display: block;
  margin: 0 0 10px 0;
}

/* Field description */

.gform_wrapper .gfield_description {
  display: block;
  margin-top: 5px;
  margin-bottom: 10px;
  color: lighten($text-color, 25%);
}

/* Radios/checks */

.gfield_checkbox,
.gfield_radio {
  margin: 0 0 0 10px;
  label {
    font-weight: normal;
    margin-left: 10px;
  }
  li {
    margin-bottom: 0px;
  }
}

/* Multiple select and textarea height fixes */

.ginput_container select[multiple] {
  height: auto;
}

.ginput_container textarea {
  height: auto;
}

/* Required asterisk */

.gform_wrapper .gfield_required {
  color: $state-danger-text;
  padding-left: 3px;
}

/* input, select, and textarea classes modified in js */
/* button classes modified in js */


/* Error/notification messages handling */

.gform_wrapper .gfield_error {
  .gfield_label {
    color: $state-danger-text;
  }
  input,
  select,
  textarea {
    background-color: $alert-danger-bg;
    border-color: $alert-danger-border;
    color: $alert-danger-text;
    @include form-control-focus($alert-danger-text);
  }
}

.validation_message {
  font-style: italic;
  margin-top: 5px;
}


/* Complex containers:
 * - based on discussion from http://roots.io/style-gravity-forms-with-bootstrap/
 *- HELLA refactored to SCSS/responsive sanity */

.ginput_complex {

  // Add a 10px gray border to the left side of complex groupings
  border-left: 10px $gray-lighter solid;
  display: block;
  padding: 10px 0 0 20px;

  // Fix label font weight and top spacing
  label {
    font-weight: normal;
    margin: 5px 0 15px 0;
  }
  span:last-of-type label {
    margin: 5px 0 0 0;
  }

  // Full-width container
  .ginput_full { width: 100%; }

  // Left/right containers (ex: first/last name)
  .ginput_left,
  .ginput_right {
    float: left;
    width: 50%;
  }

  // Inputs and labels
  .ginput_full {
    input,
    label {
      width: 100% !important;
    }
  }
  .ginput_left {
    input,
    select,
    textarea,
    label {
      width: 95% !important;
    }
  }

  // Responsive break for full-width input fields
  @media screen and ( max-width: $fh_gf_responsive_break_at ) {
    .ginput_full,
    .ginput_left,
    .ginput_right {
      float: none;
      width: 100% !important;
      input { width: 100% !important; }
      label { width: 100% !important; }
    }
  }
}

/* Add BS3 clearfix */

.gf_clear_complex {
  @include clearfix();
}

/* Weird-ass clear-multi */

.clear-multi {
  display: table;
  @include clearfix();

  // Time/date fields
  // - consider refactoring to be wrapped in .gfield_time_* and .gfield_date_*
  //   keeping non-wrapped due to compiled CSS bloat. Keep an eye on this!
  .ginput_container {
    display: table-cell;
    padding-left: 5px;
    input {
      width: 70px;
    }
    select {
      width: 80px;
    }
    // Disable the labels for time
    label {
      display: none;
    }
  }
  .ginput_container:first-child {
    padding-left: 0;
  }

  // This is hack-y but fixes a rendering bug on Chrome
  // TODO: clean this up
  .gfield_time_hour,
  .gfield_time_minute,
  .gfield_time_ampm {
    float: left;
  }

  // Inline block so that input element aligns properly with ":"
  .gfield_time_hour input {
    display: inline-block;
  }

  // Date fields
  .gfield_date_month,
  .gfield_date_day,
  .gfield_date_year {
    // Re-enable the date field labels
    label {
      display: block;
      font-weight: normal;
    }
  }
}

/* Lists */

.gfield_list {
  // Offset the top padding for the cell spacing
  margin-top: -5px;
  tr .gfield_list_cell {
    padding: 5px 0;
  }
  .gfield_list_icons {
    vertical-align: middle !important;
    width: 60px;
    img {
      float: left;
    }
  }
}

/* General Datepicker */

.gfield .datepicker {
  display: inline-block !important;
  width: 170px !important;
}

/* Honeypot validation container */

.gform_validation_container {
  display: none;
}
